<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
   <title>MindScribe | Mobile</title>
  <meta name="description" content="AI-powered voice journaling app">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="../../Assets/icon.png">
  <link rel="apple-touch-icon" href="../../Assets/icon.png">
  
  <!-- PWA Meta Tags -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#5D5FEF">
  
  <!-- Enhanced fullscreen support for iOS -->
  <meta name="apple-mobile-web-app-title" content="MindScribe">
  <meta name="application-name" content="MindScribe">
  
  <!-- Web App Manifest -->
  <link rel="manifest" href="manifest.json">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../CSS/styles.css">
  <!-- Split mobile styles into two files for better organization -->
  <link rel="stylesheet" href="../CSS/mobile-styles.css">
  <link rel="stylesheet" href="../CSS/mobile-components.css">
</head>
<body>
  <div class="mobile-container">
    <div class="mobile-view" id="homeView">
      <div class="mobile-header">
        <h1>MindScribe</h1>
      </div>
      
      <div class="mobile-content">
        <div class="welcome-card">
          <div class="welcome-avatar">
            <i class="fas fa-user-circle"></i>
          </div>
          <h2>Welcome back</h2>
          <p id="welcomeUserEmail">track your nutrition</p>
        </div>
        
        <div class="stats-cards">
          <div class="stat-card">
            <div class="stat-icon" style="background-color: rgba(93, 95, 239, 0.1); color: var(--primary);">
              <i class="fas fa-utensils"></i>
            </div>
            <div class="stat-content">
              <h3>Recent Meals</h3>
              <p><span id="mealCount">0</span> analyzed</p>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon" style="background-color: rgba(52, 211, 153, 0.1); color: var(--accent);">
              <i class="fas fa-smile"></i>
            </div>
            <div class="stat-content">
               <h3>Avg. Health Score</h3>
              <p><span id="avgHealthScore">--</span></p>
            </div>
          </div>
        </div>
        
        <div class="nutrition-style-card">
          <h3>Your Nutrition Style <button id="refreshNutritionStyle" class="refresh-btn"><i class="fas fa-sync-alt"></i></button></h3>
          <div class="nutrition-meter">
            <div class="meter-bar">
              <div class="meter-fill" id="nutritionStyleMeter"></div>
            </div>
            <div class="meter-label" id="nutritionStyleLabel">Click to analyze your style</div>
          </div>
        </div>
        
        <div class="section-title">
          <h3>Quick Actions</h3>
        </div>
        
        <div class="action-buttons">
          <button class="action-btn" onclick="switchTab('aiView')">
            <i class="fas fa-robot"></i>
            <span>Ask AI</span>
          </button>
        </div>
        <div class="action-buttons">
          <button class="action-btn" onclick="switchTab('scanView')">
            <i class="fas fa-camera"></i>
            <span>Scan Food</span>
          </button>
        </div>
        
        <div class="section-title">
          <h3>Nutritional Tips</h3>
        </div>
        <div class="tips-carousel" id="tipsCarousel">
          <div class="tip-card" id="tipCard">
            <div class="tip-icon" id="tipIcon"><i class="fas fa-leaf"></i></div>
            <h4 id="tipTitle">Balanced Diet</h4>
            <p id="tipText">Include a variety of fruits, vegetables, lean proteins, and whole grains in your meals.</p>
          </div>
          <div class="tip-controls">
            <div class="tip-indicator" id="tipIndicator"></div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="mobile-view hidden" id="activityView">
      <div class="mobile-header">
        <h1>Activity</h1>
      </div>
      <div class="mobile-content">
        <div class="section-container">
          <!-- Scan Food Section (moved from Scan/Record tab) -->
          <div class="activity-section">
            <div class="section-title">
              <h3>Scan Food</h3>
            </div>
            <div class="action-buttons scan-buttons">
              <button id="startCameraButton" class="btn btn-primary fade-in">
                <i class="fas fa-camera"></i> Take a Photo
              </button>
              <button id="logFoodButton" class="btn btn-secondary fade-in">
                <i class="fas fa-keyboard"></i> Log Food Manually
              </button>
              <div class="upload-container fade-in delay-1">
                <input type="file" id="fileUpload" accept="image/*">
                <label for="fileUpload" class="upload-label">
                  <i class="fas fa-cloud-upload-alt"></i> 
                  <span>Upload a Photo</span>
                </label>
              </div>
              <button id="viewFoodHistoryBtn" class="btn btn-outline fade-in" style="margin-top: 10px;" onclick="switchTab('communityView')">
                <i class="fas fa-history"></i> View Food History
              </button>
            </div>
            <div id="logFoodContainer" class="log-food-container fade-in" style="display:none;">
              <div class="log-food-header">
                <h3>Log Food Manually</h3>
                <p>Describe the food you've eaten (e.g., "200g oatmeal with 2 spoons of peanut butter and a 100ml glass of milk")</p>
              </div>
              <div class="food-description-wrapper">
                <textarea id="foodDescription" class="food-description" placeholder="Describe your meal here..."></textarea>
                <button id="speechToTextBtn" class="speech-to-text-btn">
                  <i class="fas fa-microphone"></i>
                </button>
              </div>
              <div class="speech-status" id="speechStatus" style="display: none;">
                <i class="fas fa-microphone-alt pulse"></i>
                <span>Listening...</span>
              </div>
              <div class="log-food-actions">
                <button id="submitFoodLog" class="btn btn-primary">
                  <i class="fas fa-check"></i> Analyze Food
                </button>
                <button id="cancelFoodLog" class="btn btn-secondary">
                  <i class="fas fa-times"></i> Cancel
                </button>
              </div>
            </div>
            <div class="preview-container fade-in delay-2" id="previewContainer">
              <button class="btn-icon" id="closePreviewButton">
                <i class="fas fa-times"></i>
              </button>
              <video id="video" autoplay playsinline muted></video>
              <img id="photo" style="display:none;">
              <canvas id="canvas" style="display:none;"></canvas>
              <div class="preview-controls">
                <button id="captureButton" class="btn btn-secondary capture-btn" style="display:none;">
                  <i class="fas fa-camera"></i> Capture
                </button>
              </div>
            </div>
            <div class="results-container fade-in delay-3" id="results" style="display:none;"></div>
          </div>
  <div class="activity-section">
            <div class="section-title">
              <h3>Find Exercises</h3>
            </div>
            
            <div class="exercise-wizard">
              <!-- Step 1: Initial Search Box -->
              <div class="wizard-step active" id="step-1">
                <div class="exercise-search-box modern-exercise-search-box">
                  <input type="text" id="exerciseSearchInput" placeholder="What exercise are you looking for?" class="modern-exercise-input">
                  <button id="startSearchBtn" class="modern-exercise-search-btn">
                    <i class="fas fa-search"></i>
                  </button>
                </div>
              </div>
              
              <!-- Step 2: Filter Options -->
              <div class="wizard-step" id="step-2">
                <div class="option-card">
                  <h4>Exercise Type</h4>
                  <div class="option-grid" id="typeOptions">
                    <div class="option-item" data-value="cardio">
                      <i class="fas fa-running"></i>
                      <span>Cardio</span>
                    </div>
                    <div class="option-item" data-value="strength">
                      <i class="fas fa-dumbbell"></i>
                      <span>Strength</span>
                    </div>
                    <div class="option-item" data-value="stretching">
                      <i class="fas fa-child"></i>
                      <span>Stretching</span>
                    </div>
                    <div class="option-item" data-value="powerlifting">
                      <i class="fas fa-weight-hanging"></i>
                      <span>Powerlifting</span>
                    </div>
                    <div class="option-item" data-value="olympic_weightlifting">
                      <i class="fas fa-award"></i>
                      <span>Olympic</span>
                    </div>
                    <div class="option-item" data-value="plyometrics">
                      <i class="fas fa-bolt"></i>
                      <span>Plyometrics</span>
                    </div>
                    <div class="option-item" data-value="strongman">
                      <i class="fas fa-fist-raised"></i>
                      <span>Strongman</span>
                    </div>
                    <div class="option-item" data-value="" selected>
                      <i class="fas fa-globe"></i>
                      <span>All Types</span>
                    </div>
                  </div>
                  <div class="wizard-nav">
                    <button class="wizard-btn back" data-step="1">
                      <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="wizard-btn next" data-step="3">
                      Next <i class="fas fa-arrow-right"></i>
                    </button>
                  </div>
                </div>
              </div>
              
              <!-- Step 3: Muscle Group Selection -->
              <div class="wizard-step" id="step-3">
                <div class="option-card">
                  <h4>Target Muscle</h4>
                  <div class="muscle-selector">
                    <div class="body-map">
                      <img src="/Assets/body-map.png" alt="Body Map" id="bodyMapImg">
                      <div class="muscle-tooltip" id="muscleTooltip"></div>
                    </div>
                    <div class="muscle-list">
                      <div class="option-item muscle-option" data-value="abdominals">Abdominals</div>
                      <div class="option-item muscle-option" data-value="abductors">Abductors</div>
                      <div class="option-item muscle-option" data-value="adductors">Adductors</div>
                      <div class="option-item muscle-option" data-value="biceps">Biceps</div>
                      <div class="option-item muscle-option" data-value="calves">Calves</div>
                      <div class="option-item muscle-option" data-value="chest">Chest</div>
                      <div class="option-item muscle-option" data-value="forearms">Forearms</div>
                      <div class="option-item muscle-option" data-value="glutes">Glutes</div>
                      <div class="option-item muscle-option" data-value="hamstrings">Hamstrings</div>
                      <div class="option-item muscle-option" data-value="lats">Lats</div>
                      <div class="option-item muscle-option" data-value="lower_back">Lower Back</div>
                      <div class="option-item muscle-option" data-value="middle_back">Middle Back</div>
                      <div class="option-item muscle-option" data-value="neck">Neck</div>
                      <div class="option-item muscle-option" data-value="quadriceps">Quadriceps</div>
                      <div class="option-item muscle-option" data-value="traps">Traps</div>
                      <div class="option-item muscle-option" data-value="triceps">Triceps</div>
                    </div>
                  </div>
                  <div class="wizard-nav">
                    <button class="wizard-btn back" data-step="2">
                      <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="wizard-btn next" data-step="4">
                      Next <i class="fas fa-arrow-right"></i>
                    </button>
                  </div>
                </div>
              </div>
              
              <!-- Step 4: Difficulty Selection -->
              <div class="wizard-step" id="step-4">
                <div class="option-card">
                  <h4>Difficulty Level</h4>
                  <div class="difficulty-slider">
                    <div class="difficulty-options">
                      <div class="difficulty-option" data-value="beginner">
                        <div class="difficulty-icon">
                          <i class="fas fa-seedling"></i>
                        </div>
                        <span>Beginner</span>
                      </div>
                      <div class="difficulty-option" data-value="intermediate">
                        <div class="difficulty-icon">
                          <i class="fas fa-fire"></i>
                        </div>
                        <span>Intermediate</span>
                      </div>
                      <div class="difficulty-option" data-value="expert">
                        <div class="difficulty-icon">
                          <i class="fas fa-fire-alt"></i>
                        </div>
                        <span>Expert</span>
                      </div>
                      <div class="difficulty-option selected" data-value="">
                        <div class="difficulty-icon">
                          <i class="fas fa-layer-group"></i>
                        </div>
                        <span>All Levels</span>
                      </div>
                    </div>
                  </div>
                  <div class="wizard-nav">
                    <button class="wizard-btn back" data-step="3">
                      <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="wizard-btn find" id="findExercisesBtn">
                      <i class="fas fa-dumbbell"></i> Find Exercises
                    </button>
                  </div>
                </div>
              </div>
              
              <!-- Hidden input fields to store selections -->
              <input type="hidden" id="exerciseType" value="">
              <input type="hidden" id="exerciseMuscle" value="">
              <input type="hidden" id="exerciseDifficulty" value="">
            </div>
            
            <div id="exerciseResults" class="exercise-results">
              <!-- Exercise results will be inserted here by JavaScript -->
            </div>
            
            <div class="empty-results" id="emptyExercises" style="display: none;">
              <div class="empty-history-content">
                <i class="fas fa-dumbbell"></i>
                <h3>No exercises found</h3>
                <p>Try adjusting your filters or search term</p>
              </div>
            </div>
            
            <div class="loading-indicator" id="exerciseLoading" style="display: none;">
              <div class="spinner"></div>
              <p>Finding exercises...</p>
            </div>
          </div>
          <!-- Coming Soon Section for Additional Features -->
          <div class="activity-section">
            <div class="section-title">
              <h3>Activity Tracking</h3>
            </div>
            <div class="coming-soon-container">
              <div class="coming-soon-icon">
                <i class="fas fa-running"></i>
              </div>
              <h2>Coming Soon</h2>
              <p>Track your daily activities and workouts to complement your nutrition</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="mobile-view hidden" id="recordView">
      <div class="mobile-header">
        <h1>Record</h1>
      </div>
      <div class="mobile-content">
        <div class="voice-transcription-section modern-voice-journal">
          <div class="voice-header modern-voice-header">
            <div class="voice-mic-bg">
              <i class="fas fa-microphone-alt fa-3x"></i>
            </div>
            <h2 class="voice-title">Voice Journal</h2>
            <p class="voice-desc">Tap the button and start speaking to record your thoughts or mood.</p>
          </div>
          <div class="voice-controls modern-voice-controls">
            <button id="startTranscriptionBtn" class="btn btn-primary modern-voice-btn">
              <i class="fas fa-microphone"></i> Start Recording
            </button>
            <button id="stopTranscriptionBtn" class="btn btn-secondary modern-voice-btn" style="display:none;">
              <i class="fas fa-stop"></i> Stop
            </button>
          </div>
          <div class="transcription-status modern-transcription-status" id="transcriptionStatus" style="display:none;">
            <span class="mic-pulse-bg"><i class="fas fa-microphone-alt pulse"></i></span>
            <span>Listening...</span>
          </div>
          <div class="transcription-result modern-transcription-result" id="transcriptionResult" style="display:none;"></div>
          <div class="transcription-actions modern-transcription-actions" id="transcriptionActions" style="display:none;">
            <button id="saveTranscriptionBtn" class="btn btn-primary modern-voice-btn">
              <i class="fas fa-save"></i> Save Entry
            </button>
            <button id="discardTranscriptionBtn" class="btn btn-secondary modern-voice-btn">
              <i class="fas fa-times"></i> Discard
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="mobile-view hidden" id="communityView">
      <div class="mobile-header">
        <h1>Food History</h1>
        <button id="refreshHistoryBtn" class="refresh-header-btn">
          <i class="fas fa-sync-alt"></i>
        </button>
      </div>
      
      <div class="mobile-content history-container">
        <div class="filter-container">
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="Search food items...">
          </div>
          
          <div class="filter-row">
            <div class="dropdown">
              <select id="sortBy">
                <option value="date-desc">Newest First</option>
                <option value="date-asc">Oldest First</option>
                <option value="calories-desc">Calories (High-Low)</option>
                <option value="calories-asc">Calories (Low-High)</option>
                <option value="health-desc">Health (High-Low)</option>
                <option value="health-asc">Health (Low-High)</option>
              </select>
            </div>

            <div class="dropdown">
              <select id="filterHealthScore">
                <option value="all">All Health Scores</option>
                <option value="8">Very Healthy</option>
                <option value="5">Moderately Healthy</option>
                <option value="1">Less Healthy</option>
              </select>
            </div>
          </div>
        </div>
        
        <div id="historyContainer">
          <!-- History items will be inserted here by JavaScript -->
           
        </div>
        
        <div class="empty-history" id="emptyHistory" style="display: none;">
          <div class="empty-history-content">
            <i class="fas fa-utensils"></i>
            <h3>No food history yet</h3>
            <p>Take a picture of your meal to start tracking your nutrition!</p>
          </div>
        </div>
        
        <div class="pagination" id="pagination">
          <!-- Pagination will be inserted here by JavaScript -->
        </div>
      </div>
    </div>
    
    <div class="mobile-view hidden" id="profileView">
      <div class="mobile-header">
        <h1>Profile</h1>
      </div>
      
      <div class="mobile-content">
        <div class="profile-card">
          <div class="profile-avatar">
            <i class="fas fa-user-circle"></i>
          </div>
          <h2 id="profileUserEmail">user@example.com</h2>
          <p>Member since <span id="memberSince">2023</span></p>
        </div>
        
        <div class="profile-menu">
          <a href="#" class="profile-menu-item">
            <i class="fas fa-chart-line"></i>
            <span>Goals</span>
            <i class="fas fa-chevron-right"></i>
          </a>
          <div class="profile-menu-item" id="viewSettings">
            <i class="fas fa-cog"></i>
            <span>Settings</span>
            <i class="fas fa-chevron-right"></i>
          </div>
          <a href="#" class="profile-menu-item">
            <i class="fas fa-question-circle"></i>
            <span>Help & Support</span>
            <i class="fas fa-chevron-right"></i>
          </a>
          <div class="profile-menu-item" id="viewTermsAndPrivacy">
            <i class="fas fa-file-alt"></i>
            <span>Terms & Privacy</span>
            <i class="fas fa-chevron-right"></i>
          </div>
        </div>
        
        <button id="logoutBtn" class="logout-btn">
          <i class="fas fa-sign-out-alt"></i>
          <span>Logout</span>
        </button>
      </div>
    </div>
    
    <div class="mobile-view hidden" id="settingsView">
      <div class="mobile-header">
        <h1>Settings</h1>
      </div>
      
      <div class="mobile-content">
        <div class="settings-section">
          <h2>App Settings</h2>
          
          <div class="settings-item">
            <div class="settings-item-info">
              <i class="fas fa-moon settings-icon"></i>
              <div>
                <h3>Dark Mode</h3>
                <p>Toggle dark theme for the app</p>
              </div>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="darkModeToggle">
              <span class="toggle-slider"></span>
            </label>
          </div>
          
          <div class="settings-item">
            <div class="settings-item-info">
              <i class="fas fa-expand settings-icon"></i>
              <div>
                <h3>Fullscreen Mode</h3>
                <p>Make app use entire screen</p>
              </div>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="fullscreenToggle">
              <span class="toggle-slider"></span>
            </label>
          </div>
          
          <div class="settings-item">
            <div class="settings-item-info">
              <i class="fas fa-bell settings-icon"></i>
              <div>
                <h3>Notifications</h3>
                <p>Enable push notifications</p>
              </div>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
    
        <div class="settings-section">
          <h2>Account</h2>
          
          <div class="settings-item" id="editProfileSetting">
            <div class="settings-item-info">
              <i class="fas fa-user settings-icon"></i>
              <div>
                <h3>Edit Profile</h3>
                <p>Update your personal information</p>
              </div>
            </div>
            <i class="fas fa-chevron-right settings-arrow"></i>
          </div>
          
          <div class="settings-item" id="changePasswordSetting">
            <div class="settings-item-info">
              <i class="fas fa-lock settings-icon"></i>
              <div>
                <h3>Change Password</h3>
                <p>Update your security settings</p>
              </div>
            </div>
            <i class="fas fa-chevron-right settings-arrow"></i>
          </div>
        </div>
          
        <div class="settings-section">
          <h2>About</h2>
          
          <div class="settings-item" id="viewTermsAndPrivacySettings">
            <div class="settings-item-info">
              <i class="fas fa-file-alt settings-icon"></i>
              <div>
                <h3>Terms & Privacy</h3>
                <p>View our terms and privacy policy</p>
              </div>
            </div>
            <i class="fas fa-chevron-right settings-arrow"></i>
          </div>
          
          <div class="settings-item" id="addToHomeScreen">
            <div class="settings-item-info">
              <i class="fas fa-download settings-icon"></i>
              <div>
                <h3>Add to Home Screen</h3>
                <p>Get app-like experience</p>
              </div>
            </div>
            <i class="fas fa-chevron-right settings-arrow"></i>
          </div>
          
          <div class="settings-item">
            <div class="settings-item-info">
              <i class="fas fa-info-circle settings-icon"></i>
              <div>
                <h3>App Version</h3>
                <p>1.0.0</p>
              </div>
            </div>
          </div>
        </div>
        
        <button class="back-button" id="backToProfileBtn">
          <i class="fas fa-arrow-left"></i> Back to Profile
        </button>
      </div>
    </div>
    
    <div class="mobile-view hidden" id="termsView">
      <div class="mobile-header">
        <h1>Terms & Privacy</h1>
      </div>
      <div class="mobile-content">
        <div class="tabs">
            <button class="tab-btn active" data-tab="terms" id="termsTab">Terms of Service</button>
            <button class="tab-btn" data-tab="privacy" id="privacyTab">Privacy Policy</button>
        </div>

        <div class="tab-content" id="terms-tab" style="display: block;">
            <div class="content-section">
                <h2>Terms of Service</h2>
                <p class="last-updated">Last Updated: May 12, 2025</p>
                <div class="terms-section">
                <h3>1. Acceptance of Terms</h3>
                <p>By accessing or using the MindScribe Health & Wellness App (“the App”), you agree to be bound by these Terms of Service. If you do not agree with any part of these terms, you should not use the App.</p>
                </div>

                <div class="terms-section">
                  <h3>2. Description of Service</h3>
                  <p>The App provides tools to support mental and physical well-being, including voice journaling, mood and sentiment analysis, and optional fitness and calorie tracking. We reserve the right to modify, suspend, or discontinue any part of the service at any time without prior notice.</p>
                </div>

                <div class="terms-section">
                  <h3>3. User Accounts</h3>
                  <p>Certain features require you to create an account. You are responsible for maintaining the confidentiality of your login information and for all activity under your account. You must notify us immediately of any unauthorized use or suspected breach.</p>
                </div>

                <div class="terms-section">
                  <h3>4. User Content</h3>
                  <p>You retain ownership of any content you submit through the App (e.g., journal entries, logs), but grant us a non-exclusive, worldwide license to use, store, and process your content solely to provide and improve the service.</p>
                </div>

                <div class="terms-section">
                  <h3>5. Prohibited Conduct</h3>
                  <p>You agree not to misuse the App. This includes, but is not limited to, uploading harmful code, attempting unauthorized access to other accounts, interfering with the service’s operation, or using it for unlawful or abusive purposes.</p>
                </div>

                <div class="terms-section">
                  <h3>6. Data & Privacy</h3>
                  <p>We respect your privacy and process your data in accordance with our Privacy Policy. Your personal and journal data will not be shared or sold without your consent. You may request data deletion at any time.</p>
                </div>

                <div class="terms-section">
                  <h3>7. Limitation of Liability</h3>
                  <p>The App is provided on an “as is” basis. We do not guarantee specific outcomes from using the service. We are not liable for any indirect, incidental, or consequential damages arising from your use or inability to use the App.</p>
                </div>

                <div class="terms-section">
                  <h3>8. Modifications to Terms</h3>
                  <p>We may update these Terms from time to time. We will notify users of significant changes via email or through an in-app notification. Continued use of the App after changes take effect constitutes acceptance of the new terms.</p>
                </div>

                <div class="terms-section">
                  <h3>9. Termination</h3>
                  <p>We reserve the right to suspend or terminate your account at any time if you violate these Terms, disrupt the service, or pose a security or legal risk. Upon termination, your access will be revoked and your data may be deleted.</p>
                </div>

                <div class="terms-section">
                  <h3>10. Governing Law</h3>
                  <p>These Terms shall be governed by the laws of the jurisdiction in which the App operates. Any disputes arising from the Terms will be resolved in the applicable local courts.</p>
                </div>

            </div>
        </div>
        <div class="tab-content" id="privacy-tab" style="display: none;">
            <div class="content-section">
                <h2>Privacy Policy</h2>
                <p class="last-updated">Last Updated: May 12, 2025</p>
                <div class="terms-section">
               <h3>1. Information We Collect</h3>
              <p>We collect information you provide directly, including your name, email address, journal entries, food images, and any other data you submit. We also automatically collect usage data such as device type, IP address, and interaction patterns within the app.</p>
              </div>
              <div class="terms-section">
                <h3>2. How We Use Your Information</h3>
                <p>We use your information to operate, maintain, and improve our services, including AI-based journaling, calorie analysis, and user insights. Food images may be used to train machine learning models to improve our AI’s accuracy. We do not use your data for advertising purposes.</p>
              </div>

              <div class="terms-section">
                <h3>3. Data Storage</h3>
                <p>Your data is stored securely on cloud-based servers. Journal entries, voice transcripts, food logs, and analysis results are retained as part of your account history unless you choose to delete them.</p>
              </div>

              <div class="terms-section">
                <h3>4. Sharing of Information</h3>
                <p>We do not sell or rent your personal information. We may share limited data with trusted service providers who help us deliver key app functionality (such as hosting or AI analysis), and only to the extent necessary to provide those services securely and reliably.</p>
              </div>

              <div class="terms-section">
                <h3>5. Data Security</h3>
                <p>We take your privacy seriously and use encryption, access controls, and other industry-standard measures to protect your data. However, no method of data transmission over the Internet or storage is completely secure, and we cannot guarantee absolute security.</p>
              </div>

              <div class="terms-section">
                <h3>6. Your Rights</h3>
                <p>You have the right to access, update, or delete your personal data at any time. You can do this via your account settings or by contacting us directly. We will process such requests promptly, in accordance with applicable privacy laws.</p>
              </div>

              <div class="terms-section">
                <h3>7. Cookies & Tracking Technologies</h3>
                <p>We may use cookies, local storage, or similar technologies to improve functionality, personalize your experience, and analyze usage. You may control these preferences through your browser or device settings.</p>
              </div>

              <div class="terms-section">
                <h3>8. Children's Privacy</h3>
                <p>Our services are not intended for children under the age of 13. We do not knowingly collect or store personal information from anyone under 13. If we become aware that such information has been collected, we will take steps to delete it.</p>
              </div>

              <div class="terms-section">
                <h3>9. Updates to This Policy</h3>
                <p>We may update this privacy policy periodically. When we do, we will revise the "Last Updated" date and notify users of any significant changes through the app or email.</p>
              </div>

              <div class="terms-section">
                <h3>10. Contact Us</h3>
                <p>If you have questions or concerns about this Privacy Policy or your data, please contact us at <a href="mailto:mindscribe@rojansapkota.com.np">mindscribe@rojansapkota.com.np</a>.</p>
              </div>
            </div>
        </div>
      </div>
    </div>
    
    <!-- AI Chat Section -->
    <div class="mobile-view hidden" id="aiView">
      <div class="mobile-header ai-chat-header" style="background:linear-gradient(90deg,#232347 70%,#34D399 100%);color:#fff;height:52px;padding:0 12px 0 8px;border-radius:0 0 16px 16px;box-shadow:0 2px 8px 0 rgba(93,95,239,0.08);display:flex;align-items:center;justify-content:space-between;">
        <div style="display:flex;align-items:center;gap:8px;">
          <i class="fas fa-robot" style="font-size:1.3em;"></i>
          <span style="font-size:1.05em;font-weight:600;letter-spacing:0.5px;">Ask AI</span>
        </div>
        <button id="closeAIChatBtn" class="close-header-btn" onclick="switchTab('homeView')" style="background:none;border:none;color:#fff;font-size:1.1em;padding:4px 8px;">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="mobile-content" style="background:linear-gradient(180deg,#232347 80%,#232347 100%);padding:0;display:flex;flex-direction:column;height:calc(100dvh - 52px);">
        <div class="welcome-card" style="margin:18px 12px 10px 12px;background:rgba(52,211,153,0.08);color:#fff;">
          <div class="welcome-avatar" style="background:rgba(93,95,239,0.13);color:#34D399;">
            <i class="fas fa-robot"></i>
          </div>
          <h2 style="font-size:1.1em;">AI Chat</h2>
          <p style="font-size:0.98em;color:#b3b3cc;">Ask anything about nutrition, mental health, or wellness!</p>
        </div>
        <div class="ai-chat-messages" id="aiChatMessages" style="flex:1 1 0;overflow-y:auto;padding:0 12px 0 12px;display:flex;flex-direction:column;gap:10px;min-height:0;">
          <!-- Messages will be rendered here -->
        </div>
        <form id="aiChatForm" class="ai-chat-form" style="display:flex;gap:8px;padding:0 8px 8px 8px;position:fixed;left:0;right:0;bottom:0;width:100vw;max-width:480px;margin:auto;background:linear-gradient(180deg,#232347 90%,#232347 100%);z-index:100;">
          <button type="button" id="aiMicBtn" class="btn btn-secondary" style="padding:0 12px;border-radius:50%;background:linear-gradient(90deg,#34D399 70%,#5D5FEF 100%);border:none;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px 0 rgba(52,211,153,0.10);min-width:40px;min-height:40px;">
            <i class="fas fa-microphone" style="color:#fff;font-size:1.1em;"></i>
          </button>
          <input type="text" id="aiChatInput" class="ai-chat-input" placeholder="Type your question..." autocomplete="off" style="flex:1;padding:13px 14px;border-radius:18px;border:1.5px solid #34D399;font-size:1em;outline:none;background:#232347;color:#fff;box-shadow:0 1px 4px 0 rgba(93,95,239,0.04);margin-bottom:0;">
          <button type="submit" class="btn btn-primary" style="padding:0 16px;border-radius:50%;background:linear-gradient(90deg,#5D5FEF 70%,#34D399 100%);border:none;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px 0 rgba(93,95,239,0.10);min-width:40px;min-height:40px;">
            <i class="fas fa-paper-plane" style="color:#fff;font-size:1.1em;"></i>
          </button>
        </form>
      </div>
    </div>
    <!-- End AI Chat Section -->
     
    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <button class="nav-item active" data-view="homeView">
        <i class="fas fa-home"></i>
        <span>Home</span>
      </button>
      <button class="nav-item" data-view="activityView">
        <i class="fas fa-bolt"></i>
        <span>Activity</span>
      </button>
      <button class="nav-item nav-item-record" data-view="recordView">
        <div class="scan-button-wrapper">
          <div class="scan-button-inner">
            <i class="fas fa-microphone"></i>
          </div>
        </div>
        <span>Record</span>
      </button>
      <button class="nav-item" data-view="communityView">
        <i class="fas fa-history"></i>
        <span>History</span>
      </button>
      <button class="nav-item" data-view="profileView">
        <i class="fas fa-user"></i>
        <span>Profile</span>
      </button>
    </nav>
  </div>
  
  <div class="tooltip" id="tooltip"></div>
  <script src="../JS/mobile.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
      if (!isMobile) {
        window.location.href = 'desktop.html';
      }
      
      // Check fullscreen preference (default is false)
      let fullscreenEnabled = localStorage.getItem('fullscreenEnabled') === 'true';
      
      // Handle fullscreen mode
      function enterFullscreen() {
        const docEl = document.documentElement;
        
        if (docEl.requestFullscreen) {
          docEl.requestFullscreen();
        } else if (docEl.webkitRequestFullscreen) { /* Safari */
          docEl.webkitRequestFullscreen();
        } else if (docEl.msRequestFullscreen) { /* IE11 */
          docEl.msRequestFullscreen();
        }
      }
      
      function exitFullscreen() {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        } else if (document.webkitExitFullscreen) { /* Safari */
          document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) { /* IE */
          document.msExitFullscreen();
        }
      }
      
      // Check if it's a standalone PWA
      const isInStandaloneMode = window.matchMedia('(display-mode: standalone)').matches || 
                                (window.navigator.standalone) || 
                                document.referrer.includes('android-app://');
      
      // Toggle fullscreen based on user preference and if not already in standalone mode
      if (fullscreenEnabled && !isInStandaloneMode) {
        // Attempt fullscreen on first user interaction for better UX
        document.addEventListener('click', function firstInteraction() {
          enterFullscreen();
          document.removeEventListener('click', firstInteraction);
        }, { once: true });
      }
      
      // Initialize the fullscreen toggle once the DOM is fully loaded
      window.addEventListener('load', () => {
        const fullscreenToggle = document.getElementById('fullscreenToggle');
        if (fullscreenToggle) {
          fullscreenToggle.checked = fullscreenEnabled;
          
          fullscreenToggle.addEventListener('change', function() {
            fullscreenEnabled = this.checked;
            localStorage.setItem('fullscreenEnabled', fullscreenEnabled);
            
            if (fullscreenEnabled && !isInStandaloneMode) {
              enterFullscreen();
            } else if (!fullscreenEnabled) {
              exitFullscreen();
            }
          });
        }
      });
    });
  </script>
</body>
</html>